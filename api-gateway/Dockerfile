# Указываем базовый образ
FROM golang:1.24-alpine

# Создаем и устанавливаем рабочую директорию
WORKDIR /app

# Копируем все файлы проекта в контейнер
COPY . .

# Устанавливаем зависимости
RUN go mod tidy

# Компилируем приложение
RUN go build -o api-gateway .

# Указываем команду для запуска
CMD ["./api-gateway"]

# Открываем порты
EXPOSE 8080
